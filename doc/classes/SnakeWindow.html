<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: SnakeWindow</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">SnakeWindow</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../files/lib/fx_snake_window_rb.html">
                lib/fx_snake_window.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                FXMainWindow
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">



   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000071">alles_zeichnen</a>&nbsp;&nbsp;
      <a href="#M000077">create</a>&nbsp;&nbsp;
      <a href="#M000069">element_zeichnen</a>&nbsp;&nbsp;
      <a href="#M000072">new</a>&nbsp;&nbsp;
      <a href="#M000075">new_game</a>&nbsp;&nbsp;
      <a href="#M000076">parameter_dialog</a>&nbsp;&nbsp;
      <a href="#M000073">start_game</a>&nbsp;&nbsp;
      <a href="#M000074">stop_game</a>&nbsp;&nbsp;
      <a href="#M000070">zeichne</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">canvas</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000072" class="method-detail">
        <a name="M000072"></a>

        <div class="method-heading">
          <a href="#M000072" class="method-signature">
          <span class="method-name">new</span><span class="method-args">(app, strategien)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000072-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000072-source">
<pre>
     <span class="ruby-comment cmt"># File lib/fx_snake_window.rb, line 109</span>
109:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">app</span>, <span class="ruby-identifier">strategien</span>)
110:     
111:     <span class="ruby-ivar">@strategien</span> = <span class="ruby-identifier">strategien</span>
112:     <span class="ruby-ivar">@spiel</span> = <span class="ruby-keyword kw">nil</span>
113:     <span class="ruby-ivar">@starts</span> = <span class="ruby-keyword kw">nil</span>
114:     <span class="ruby-ivar">@speed</span> = <span class="ruby-value">50</span>
115:     <span class="ruby-ivar">@timeoutref</span> = <span class="ruby-keyword kw">nil</span>
116: <span class="ruby-comment cmt">#    puts &quot;app #{app}&quot;</span>
117:     <span class="ruby-keyword kw">super</span>(<span class="ruby-identifier">app</span>, <span class="ruby-value str">&quot;Snake&quot;</span>,  <span class="ruby-identifier">:width</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1000</span>, <span class="ruby-identifier">:height</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">860</span>)
118: 
119:     
120:     <span class="ruby-ivar">@colors</span> = {<span class="ruby-value">-2</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;yellow&quot;</span>, <span class="ruby-value">-1</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;black&quot;</span>, <span class="ruby-value">0</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;white&quot;</span>, <span class="ruby-value">1</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'blue'</span>, <span class="ruby-value">2</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'red'</span>, <span class="ruby-value">3</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'green'</span>, <span class="ruby-value">4</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'purple'</span>}
121: 
122:     <span class="ruby-comment cmt"># Menu-Leiste (Oben, über ganze Breite)</span>
123:     <span class="ruby-identifier">menu_leiste</span> = <span class="ruby-constant">FXMenuBar</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-constant">LAYOUT_SIDE_TOP</span><span class="ruby-operator">|</span><span class="ruby-constant">LAYOUT_FILL_X</span>)
124: 
125:     <span class="ruby-comment cmt"># Menu-Punkt Datei</span>
126:     <span class="ruby-identifier">datei_menu</span> = <span class="ruby-constant">FXMenuPane</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>)
127:     <span class="ruby-comment cmt"># Ein Eintrag (Parameter regeln)</span>
128:     <span class="ruby-constant">FXMenuCommand</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">datei_menu</span>, <span class="ruby-value str">&quot;&amp;Parameter\tCtl-P&quot;</span>).<span class="ruby-identifier">connect</span>(<span class="ruby-constant">SEL_COMMAND</span>) {
129:       <span class="ruby-identifier">parameter_dialog</span>
130:     }
131:     <span class="ruby-constant">FXMenuCommand</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">datei_menu</span>, <span class="ruby-value str">&quot;&amp;Start\tCtl-G&quot;</span>).<span class="ruby-identifier">connect</span>(<span class="ruby-constant">SEL_COMMAND</span>) {
132:       <span class="ruby-identifier">stop_game</span>
133:       <span class="ruby-identifier">new_game</span>
134:       <span class="ruby-identifier">start_game</span>
135:     }
136:     <span class="ruby-constant">FXMenuCommand</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">datei_menu</span>, <span class="ruby-value str">&quot;&amp;Stop\tCtl-C&quot;</span>).<span class="ruby-identifier">connect</span>(<span class="ruby-constant">SEL_COMMAND</span>) {
137:       <span class="ruby-identifier">stop_game</span>
138:     }
139:     <span class="ruby-comment cmt"># Ein Eintrag (Quit)</span>
140:     <span class="ruby-constant">FXMenuCommand</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">datei_menu</span>, <span class="ruby-value str">&quot;&amp;Verlassen\tCtl-Q&quot;</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">getApp</span>(), <span class="ruby-constant">FXApp</span><span class="ruby-operator">::</span><span class="ruby-constant">ID_QUIT</span>)
141:     <span class="ruby-comment cmt"># Menu-Punkt &quot;Datei&quot; ins Menu einfügen</span>
142:     <span class="ruby-constant">FXMenuTitle</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">menu_leiste</span>, <span class="ruby-value str">&quot;&amp;Datei&quot;</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">datei_menu</span>)
143: 
144:     <span class="ruby-comment cmt"># Status-Zeile</span>
145:     <span class="ruby-identifier">status_platz</span> = <span class="ruby-constant">FXHorizontalFrame</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>,
146:         <span class="ruby-constant">LAYOUT_SIDE_BOTTOM</span><span class="ruby-operator">|</span><span class="ruby-constant">FRAME_NONE</span><span class="ruby-operator">|</span><span class="ruby-constant">LAYOUT_FILL_X</span><span class="ruby-operator">|</span><span class="ruby-constant">PACK_UNIFORM_WIDTH</span>)
147:     <span class="ruby-ivar">@status</span> = <span class="ruby-constant">FXStatusLine</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">status_platz</span>)
148:     
149:     <span class="ruby-comment cmt"># Drawing canvas</span>
150:     <span class="ruby-ivar">@canvas</span> = <span class="ruby-constant">FXCanvas</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">:opts</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">LAYOUT_FILL_X</span><span class="ruby-operator">|</span><span class="ruby-constant">LAYOUT_FILL_Y</span><span class="ruby-operator">|</span><span class="ruby-constant">LAYOUT_TOP</span><span class="ruby-operator">|</span><span class="ruby-constant">LAYOUT_LEFT</span>)
151:     <span class="ruby-ivar">@canvas</span>.<span class="ruby-identifier">connect</span>(<span class="ruby-constant">SEL_PAINT</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">sender</span>, <span class="ruby-identifier">sel</span>, <span class="ruby-identifier">event</span><span class="ruby-operator">|</span>
152:       <span class="ruby-identifier">alles_zeichnen</span>
153:     }
154: 
155: 
156:     <span class="ruby-ivar">@canvas</span>.<span class="ruby-identifier">connect</span>(<span class="ruby-constant">SEL_KEYPRESS</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">sender</span>, <span class="ruby-identifier">sel</span>, <span class="ruby-identifier">event</span><span class="ruby-operator">|</span>
157:       <span class="ruby-ivar">@spiel</span>.<span class="ruby-identifier">strategien</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> 
158:         <span class="ruby-identifier">s</span>.<span class="ruby-identifier">taste</span>(<span class="ruby-identifier">event</span>.<span class="ruby-identifier">code</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:taste</span>)
159:       } <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@spiel</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
160: <span class="ruby-comment cmt">#      self.handle(sender, sel, event)</span>
161: <span class="ruby-comment cmt">#      puts &quot;Key down: #{event.code}&quot;</span>
162:     }
163: <span class="ruby-comment cmt">#    @canvas.connect(SEL_KEYRELEASE) { |sender, sel, event|</span>
164: <span class="ruby-comment cmt">#      puts &quot;Key up: #{event.code}&quot;</span>
165: <span class="ruby-comment cmt">#    }</span>
166:     
167:     <span class="ruby-comment cmt"># Timeouts</span>
168:     <span class="ruby-comment cmt"># da drin läuft das Game ab.</span>
169:     
170:     <span class="ruby-comment cmt"># Den Elementen sagen, wo gezeichnet werden soll.</span>
171:     <span class="ruby-constant">Element</span>.<span class="ruby-identifier">set_fxwin</span>(<span class="ruby-keyword kw">self</span>);
172:     <span class="ruby-ivar">@lebend</span> = <span class="ruby-value">0</span>
173:     
174:     <span class="ruby-ivar">@timeouthandler</span> = <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">sender</span>, <span class="ruby-identifier">sel</span>, <span class="ruby-identifier">data</span><span class="ruby-operator">|</span>
175:       <span class="ruby-keyword kw">if</span> (<span class="ruby-ivar">@lebend</span><span class="ruby-operator">&gt;</span><span class="ruby-value">0</span>)
176:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@spiel</span>.<span class="ruby-identifier">numapf</span> <span class="ruby-operator">==</span> <span class="ruby-value">41</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@spiel</span>.<span class="ruby-identifier">schritt</span><span class="ruby-operator">==</span><span class="ruby-value">3000</span>
177:           <span class="ruby-identifier">text</span> = <span class="ruby-value str">&quot;Punkte: &quot;</span>
178:           <span class="ruby-ivar">@strats</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">times</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
179:             <span class="ruby-identifier">text</span> <span class="ruby-operator">+=</span> <span class="ruby-ivar">@strats</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;: &quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@spiel</span>.<span class="ruby-identifier">schlang</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;  &quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@spiel</span>.<span class="ruby-identifier">lebend</span>[<span class="ruby-identifier">i</span>]
180:           }
181:           <span class="ruby-ivar">@status</span>.<span class="ruby-identifier">normalText</span> = <span class="ruby-identifier">text</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">text!</span>=<span class="ruby-ivar">@status</span>.<span class="ruby-identifier">normalText</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@lebend</span><span class="ruby-operator">&gt;</span><span class="ruby-value">0</span>
182:           <span class="ruby-identifier">stop_game</span>
183:         <span class="ruby-keyword kw">else</span>        
184:           <span class="ruby-identifier">res</span> = <span class="ruby-ivar">@spiel</span>.<span class="ruby-identifier">aktualisieren</span>
185:           <span class="ruby-ivar">@lebend</span> = <span class="ruby-value">0</span>
186:           <span class="ruby-identifier">res</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">l</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@lebend</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">l</span> }
187:           <span class="ruby-identifier">text</span> = <span class="ruby-node">&quot;#{@spiel.numapf} : &quot;</span>
188:           <span class="ruby-ivar">@strats</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">times</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
189:             <span class="ruby-identifier">text</span> <span class="ruby-operator">+=</span> <span class="ruby-ivar">@strats</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;: &quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@colors</span>[<span class="ruby-identifier">i</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;  &quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">res</span>[<span class="ruby-identifier">i</span>]
190:           }
191:           <span class="ruby-ivar">@status</span>.<span class="ruby-identifier">normalText</span> = <span class="ruby-identifier">text</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">text!</span>=<span class="ruby-ivar">@status</span>.<span class="ruby-identifier">normalText</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@lebend</span><span class="ruby-operator">&gt;</span><span class="ruby-value">0</span>
192:           <span class="ruby-ivar">@timeoutref</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">app</span>.<span class="ruby-identifier">addTimeout</span>(<span class="ruby-ivar">@speed</span>,  <span class="ruby-ivar">@timeouthandler</span>)
193:         <span class="ruby-keyword kw">end</span>
194:       <span class="ruby-keyword kw">else</span>
195:         <span class="ruby-identifier">stop_game</span>
196:       <span class="ruby-keyword kw">end</span>
197:     }
198:     
199: <span class="ruby-comment cmt">#    app.addTimeout(100, @timeouthandler)</span>
200: 
201:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000071" class="method-detail">
        <a name="M000071"></a>

        <div class="method-heading">
          <a href="#M000071" class="method-signature">
          <span class="method-name">alles_zeichnen</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000071-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000071-source">
<pre>
     <span class="ruby-comment cmt"># File lib/fx_snake_window.rb, line 91</span>
 91:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">alles_zeichnen</span>
 92:     <span class="ruby-identifier">dc</span> = <span class="ruby-constant">FXDCWindow</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@canvas</span>)
 93:     <span class="ruby-identifier">dc</span>.<span class="ruby-identifier">foreground</span> = <span class="ruby-value str">&quot;white&quot;</span>
 94:     <span class="ruby-identifier">dc</span>.<span class="ruby-identifier">fillRectangle</span>(<span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-ivar">@canvas</span>.<span class="ruby-identifier">width</span>, <span class="ruby-ivar">@canvas</span>.<span class="ruby-identifier">height</span>)
 95:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@spiel</span>
 96:       <span class="ruby-identifier">feld</span> = <span class="ruby-ivar">@spiel</span>.<span class="ruby-identifier">feld</span>
 97:       <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">y</span> <span class="ruby-keyword kw">in</span> <span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-ivar">@spiel</span>.<span class="ruby-identifier">y</span>
 98:         <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">x</span> <span class="ruby-keyword kw">in</span> <span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-ivar">@spiel</span>.<span class="ruby-identifier">x</span>
 99:           <span class="ruby-identifier">art</span>,<span class="ruby-identifier">timer</span>,<span class="ruby-identifier">dir</span> = <span class="ruby-identifier">feld</span>[<span class="ruby-identifier">x</span>,<span class="ruby-identifier">y</span>]
100:           <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">art</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>)
101:             <span class="ruby-identifier">element_zeichnen</span>(<span class="ruby-identifier">dc</span>,<span class="ruby-identifier">x</span>,<span class="ruby-identifier">y</span>,<span class="ruby-identifier">art</span>,<span class="ruby-identifier">dir</span>)
102:           <span class="ruby-keyword kw">end</span>
103:         <span class="ruby-keyword kw">end</span>
104:       <span class="ruby-keyword kw">end</span>
105:     <span class="ruby-keyword kw">end</span>
106:     <span class="ruby-identifier">dc</span>.<span class="ruby-identifier">end</span>
107:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000077" class="method-detail">
        <a name="M000077"></a>

        <div class="method-heading">
          <a href="#M000077" class="method-signature">
          <span class="method-name">create</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000077-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000077-source">
<pre>
     <span class="ruby-comment cmt"># File lib/fx_snake_window.rb, line 246</span>
246:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create</span>
247:     <span class="ruby-keyword kw">super</span>
248:     <span class="ruby-identifier">show</span>
249:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000069" class="method-detail">
        <a name="M000069"></a>

        <div class="method-heading">
          <a href="#M000069" class="method-signature">
          <span class="method-name">element_zeichnen</span><span class="method-args">(dc,x,y,art,dir)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Zeichnet die Schlangen (wäre schöner mit vorgefertigten Bitmaps!
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000069-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000069-source">
<pre>
    <span class="ruby-comment cmt"># File lib/fx_snake_window.rb, line 44</span>
44:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">element_zeichnen</span>(<span class="ruby-identifier">dc</span>,<span class="ruby-identifier">x</span>,<span class="ruby-identifier">y</span>,<span class="ruby-identifier">art</span>,<span class="ruby-identifier">dir</span>)
45:     <span class="ruby-identifier">dx</span> = <span class="ruby-value">20</span>
46:     <span class="ruby-identifier">ddx</span> = <span class="ruby-value">2</span>
47:     <span class="ruby-identifier">dc</span>.<span class="ruby-identifier">foreground</span> = <span class="ruby-value str">&quot;white&quot;</span>
48:     <span class="ruby-identifier">dc</span>.<span class="ruby-identifier">fillRectangle</span>(<span class="ruby-identifier">x</span><span class="ruby-operator">*</span><span class="ruby-identifier">dx</span>, <span class="ruby-identifier">y</span><span class="ruby-operator">*</span><span class="ruby-identifier">dx</span>, <span class="ruby-identifier">dx</span>, <span class="ruby-identifier">dx</span>)
49:     <span class="ruby-identifier">dc</span>.<span class="ruby-identifier">foreground</span> = <span class="ruby-ivar">@colors</span>[<span class="ruby-identifier">art</span>]
50:     <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">art</span><span class="ruby-operator">&gt;</span><span class="ruby-value">0</span>)
51:         
52:       <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">dir</span><span class="ruby-operator">==</span><span class="ruby-value">8</span>)   
53:         <span class="ruby-identifier">dc</span>.<span class="ruby-identifier">fillRectangle</span>(<span class="ruby-identifier">x</span><span class="ruby-operator">*</span><span class="ruby-identifier">dx</span>, <span class="ruby-identifier">y</span><span class="ruby-operator">*</span><span class="ruby-identifier">dx</span><span class="ruby-operator">+</span><span class="ruby-identifier">ddx</span>, <span class="ruby-identifier">dx</span>, <span class="ruby-identifier">dx</span><span class="ruby-operator">-</span><span class="ruby-value">2</span><span class="ruby-operator">*</span><span class="ruby-identifier">ddx</span>)
54:       <span class="ruby-keyword kw">end</span>
55:       <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">dir</span> <span class="ruby-operator">==</span> <span class="ruby-value">9</span>)
56:         <span class="ruby-identifier">dc</span>.<span class="ruby-identifier">fillRectangle</span>(<span class="ruby-identifier">x</span><span class="ruby-operator">*</span><span class="ruby-identifier">dx</span><span class="ruby-operator">+</span><span class="ruby-identifier">ddx</span>, <span class="ruby-identifier">y</span><span class="ruby-operator">*</span><span class="ruby-identifier">dx</span>, <span class="ruby-identifier">dx</span><span class="ruby-operator">-</span><span class="ruby-value">2</span><span class="ruby-operator">*</span><span class="ruby-identifier">ddx</span>, <span class="ruby-identifier">dx</span>)
57:       <span class="ruby-keyword kw">end</span>
58:       <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">dir</span> <span class="ruby-operator">==</span><span class="ruby-value">0</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">dir</span><span class="ruby-operator">==</span><span class="ruby-value">5</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">dir</span><span class="ruby-operator">==</span><span class="ruby-value">6</span>)
59:         <span class="ruby-identifier">dc</span>.<span class="ruby-identifier">fillRectangle</span>(<span class="ruby-identifier">x</span><span class="ruby-operator">*</span><span class="ruby-identifier">dx</span>, <span class="ruby-identifier">y</span><span class="ruby-operator">*</span><span class="ruby-identifier">dx</span><span class="ruby-operator">+</span><span class="ruby-identifier">ddx</span>, <span class="ruby-identifier">dx</span><span class="ruby-operator">/</span><span class="ruby-value">2</span>, <span class="ruby-identifier">dx</span><span class="ruby-operator">-</span><span class="ruby-value">2</span><span class="ruby-operator">*</span><span class="ruby-identifier">ddx</span>)
60:       <span class="ruby-keyword kw">end</span>
61:       <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">dir</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">dir</span> <span class="ruby-operator">==</span><span class="ruby-value">6</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">dir</span> <span class="ruby-operator">==</span> <span class="ruby-value">7</span>)
62:         <span class="ruby-identifier">dc</span>.<span class="ruby-identifier">fillRectangle</span>(<span class="ruby-identifier">x</span><span class="ruby-operator">*</span><span class="ruby-identifier">dx</span><span class="ruby-operator">+</span><span class="ruby-identifier">ddx</span>, <span class="ruby-identifier">y</span><span class="ruby-operator">*</span><span class="ruby-identifier">dx</span>, <span class="ruby-identifier">dx</span><span class="ruby-operator">-</span><span class="ruby-value">2</span><span class="ruby-operator">*</span><span class="ruby-identifier">ddx</span>, <span class="ruby-identifier">dx</span><span class="ruby-operator">/</span><span class="ruby-value">2</span>)
63:       <span class="ruby-keyword kw">end</span>
64:       <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">dir</span> <span class="ruby-operator">==</span> <span class="ruby-value">2</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">dir</span> <span class="ruby-operator">==</span> <span class="ruby-value">4</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">dir</span> <span class="ruby-operator">==</span> <span class="ruby-value">7</span>)
65:         <span class="ruby-identifier">dc</span>.<span class="ruby-identifier">fillRectangle</span>(<span class="ruby-identifier">x</span><span class="ruby-operator">*</span><span class="ruby-identifier">dx</span><span class="ruby-operator">+</span><span class="ruby-identifier">dx</span><span class="ruby-operator">/</span><span class="ruby-value">2</span>, <span class="ruby-identifier">y</span><span class="ruby-operator">*</span><span class="ruby-identifier">dx</span><span class="ruby-operator">+</span><span class="ruby-identifier">ddx</span>, <span class="ruby-identifier">dx</span><span class="ruby-operator">/</span><span class="ruby-value">2</span>, <span class="ruby-identifier">dx</span><span class="ruby-operator">-</span><span class="ruby-value">2</span><span class="ruby-operator">*</span><span class="ruby-identifier">ddx</span>)
66:       <span class="ruby-keyword kw">end</span>
67:       <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">dir</span> <span class="ruby-operator">==</span> <span class="ruby-value">3</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">dir</span> <span class="ruby-operator">==</span> <span class="ruby-value">4</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">dir</span> <span class="ruby-operator">==</span> <span class="ruby-value">5</span>)
68:         <span class="ruby-identifier">dc</span>.<span class="ruby-identifier">fillRectangle</span>(<span class="ruby-identifier">x</span><span class="ruby-operator">*</span><span class="ruby-identifier">dx</span><span class="ruby-operator">+</span><span class="ruby-identifier">ddx</span>, <span class="ruby-identifier">y</span><span class="ruby-operator">*</span><span class="ruby-identifier">dx</span><span class="ruby-operator">+</span><span class="ruby-identifier">dx</span><span class="ruby-operator">/</span><span class="ruby-value">2</span>, <span class="ruby-identifier">dx</span><span class="ruby-operator">-</span><span class="ruby-value">2</span><span class="ruby-operator">*</span><span class="ruby-identifier">ddx</span>, <span class="ruby-identifier">dx</span><span class="ruby-operator">/</span><span class="ruby-value">2</span>)
69:       <span class="ruby-keyword kw">end</span>
70:       <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">dir</span> <span class="ruby-operator">!=</span> <span class="ruby-value">8</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">dir</span> <span class="ruby-operator">!=</span> <span class="ruby-value">9</span>)
71:         <span class="ruby-identifier">dc</span>.<span class="ruby-identifier">fillCircle</span>(<span class="ruby-identifier">x</span><span class="ruby-operator">*</span><span class="ruby-identifier">dx</span><span class="ruby-operator">+</span><span class="ruby-identifier">dx</span><span class="ruby-operator">/</span><span class="ruby-value">2</span>, <span class="ruby-identifier">y</span><span class="ruby-operator">*</span><span class="ruby-identifier">dx</span><span class="ruby-operator">+</span><span class="ruby-identifier">dx</span><span class="ruby-operator">/</span><span class="ruby-value">2</span>, <span class="ruby-identifier">dx</span><span class="ruby-operator">/</span><span class="ruby-value">2</span><span class="ruby-operator">-</span><span class="ruby-identifier">ddx</span>)
72:       <span class="ruby-keyword kw">end</span>
73:     <span class="ruby-keyword kw">else</span>
74:       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">art</span>
75:       <span class="ruby-keyword kw">when</span> <span class="ruby-value">-1</span><span class="ruby-operator">:</span>
76:         <span class="ruby-identifier">dc</span>.<span class="ruby-identifier">fillRectangle</span>(<span class="ruby-identifier">x</span><span class="ruby-operator">*</span><span class="ruby-identifier">dx</span>, <span class="ruby-identifier">y</span><span class="ruby-operator">*</span><span class="ruby-identifier">dx</span>, <span class="ruby-identifier">dx</span>, <span class="ruby-identifier">dx</span>)
77:       <span class="ruby-keyword kw">when</span> <span class="ruby-value">-2</span><span class="ruby-operator">:</span>
78:         <span class="ruby-identifier">dc</span>.<span class="ruby-identifier">fillCircle</span>(<span class="ruby-identifier">x</span><span class="ruby-operator">*</span><span class="ruby-identifier">dx</span><span class="ruby-operator">+</span><span class="ruby-identifier">dx</span><span class="ruby-operator">/</span><span class="ruby-value">2</span>, <span class="ruby-identifier">y</span><span class="ruby-operator">*</span><span class="ruby-identifier">dx</span><span class="ruby-operator">+</span><span class="ruby-identifier">dx</span><span class="ruby-operator">/</span><span class="ruby-value">2</span>, <span class="ruby-identifier">dx</span><span class="ruby-operator">/</span><span class="ruby-value">2</span>)
79:       <span class="ruby-keyword kw">end</span>
80:     <span class="ruby-keyword kw">end</span>         
81:     
82:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000075" class="method-detail">
        <a name="M000075"></a>

        <div class="method-heading">
          <a href="#M000075" class="method-signature">
          <span class="method-name">new_game</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000075-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000075-source">
<pre>
     <span class="ruby-comment cmt"># File lib/fx_snake_window.rb, line 216</span>
216:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">new_game</span>
217:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@strats</span>
218:       <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@strats</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-constant">Strategie_tastatur</span>)
219:         <span class="ruby-ivar">@strats</span> = <span class="ruby-ivar">@strats</span>.<span class="ruby-identifier">sort_by</span> { <span class="ruby-identifier">rand</span> } 
220:       <span class="ruby-keyword kw">end</span>
221:       <span class="ruby-ivar">@lebend</span> = <span class="ruby-ivar">@strats</span>.<span class="ruby-identifier">size</span>
222:       <span class="ruby-ivar">@spiel</span> = <span class="ruby-constant">Spiel</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">50</span>, <span class="ruby-value">40</span>, <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@lebend</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@strats</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">new</span>}, <span class="ruby-value">0</span>)
223:       <span class="ruby-identifier">text</span> = <span class="ruby-value str">&quot;&quot;</span>
224:       <span class="ruby-ivar">@strats</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">times</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
225:         <span class="ruby-identifier">text</span> <span class="ruby-operator">+=</span> <span class="ruby-ivar">@strats</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;: &quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@colors</span>[<span class="ruby-identifier">i</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;  &quot;</span>
226:       }
227:       <span class="ruby-ivar">@status</span>.<span class="ruby-identifier">normalText</span> = <span class="ruby-identifier">text</span>
228:     <span class="ruby-keyword kw">else</span>
229:       <span class="ruby-ivar">@status</span>.<span class="ruby-identifier">normalText</span> = <span class="ruby-value str">&quot;Zuerst die Parameter festlegen!&quot;</span>
230:     <span class="ruby-keyword kw">end</span>
231:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000076" class="method-detail">
        <a name="M000076"></a>

        <div class="method-heading">
          <a href="#M000076" class="method-signature">
          <span class="method-name">parameter_dialog</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000076-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000076-source">
<pre>
     <span class="ruby-comment cmt"># File lib/fx_snake_window.rb, line 233</span>
233:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parameter_dialog</span>
234:     <span class="ruby-identifier">dialog</span> = <span class="ruby-constant">Tournier_dialog</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-ivar">@strategien</span>)
235:     <span class="ruby-comment cmt"># Wenn OK-Knopf gedrückt, updated und zeichnen</span>
236:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">dialog</span>.<span class="ruby-identifier">execute</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
237:       <span class="ruby-identifier">dialog</span>.<span class="ruby-identifier">schreibe_werte</span>
238:       <span class="ruby-ivar">@speed</span> = <span class="ruby-identifier">dialog</span>.<span class="ruby-identifier">speed</span>.<span class="ruby-identifier">value</span>
239:       <span class="ruby-ivar">@strats</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">dialog</span>.<span class="ruby-identifier">anzahl</span>.<span class="ruby-identifier">value</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@strategien</span>[<span class="ruby-identifier">dialog</span>.<span class="ruby-identifier">auswahl</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">value</span>] }
240:       <span class="ruby-identifier">new_game</span>
241:       <span class="ruby-identifier">start_game</span>
242:     <span class="ruby-keyword kw">end</span>
243:     <span class="ruby-keyword kw">return</span> <span class="ruby-value">1</span>
244:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000073" class="method-detail">
        <a name="M000073"></a>

        <div class="method-heading">
          <a href="#M000073" class="method-signature">
          <span class="method-name">start_game</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000073-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000073-source">
<pre>
     <span class="ruby-comment cmt"># File lib/fx_snake_window.rb, line 203</span>
203:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">start_game</span>
204:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@spiel</span>
205:       <span class="ruby-ivar">@timeoutref</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">app</span>.<span class="ruby-identifier">addTimeout</span>(<span class="ruby-ivar">@speed</span>, <span class="ruby-ivar">@timeouthandler</span>)
206:       <span class="ruby-ivar">@canvas</span>.<span class="ruby-identifier">setFocus</span>
207:     <span class="ruby-keyword kw">end</span>
208:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000074" class="method-detail">
        <a name="M000074"></a>

        <div class="method-heading">
          <a href="#M000074" class="method-signature">
          <span class="method-name">stop_game</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000074-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000074-source">
<pre>
     <span class="ruby-comment cmt"># File lib/fx_snake_window.rb, line 210</span>
210:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">stop_game</span>
211:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">app</span>.<span class="ruby-identifier">removeTimeout</span>(<span class="ruby-ivar">@timeoutref</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@timeoutref</span>
212:     <span class="ruby-ivar">@lebend</span> = <span class="ruby-value">0</span>
213:     <span class="ruby-ivar">@spiel</span> = <span class="ruby-keyword kw">nil</span>
214:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000070" class="method-detail">
        <a name="M000070"></a>

        <div class="method-heading">
          <a href="#M000070" class="method-signature">
          <span class="method-name">zeichne</span><span class="method-args">(x,y,art,dir)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000070-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000070-source">
<pre>
    <span class="ruby-comment cmt"># File lib/fx_snake_window.rb, line 84</span>
84:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">zeichne</span>(<span class="ruby-identifier">x</span>,<span class="ruby-identifier">y</span>,<span class="ruby-identifier">art</span>,<span class="ruby-identifier">dir</span>)
85:     <span class="ruby-comment cmt">#puts &quot;Zeichne(#{x}, #{y}, #{art}, #{dir})&quot;</span>
86:     <span class="ruby-identifier">dc</span> = <span class="ruby-constant">FXDCWindow</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@canvas</span>)
87:     <span class="ruby-identifier">element_zeichnen</span>(<span class="ruby-identifier">dc</span>,<span class="ruby-identifier">x</span>,<span class="ruby-identifier">y</span>,<span class="ruby-identifier">art</span>,<span class="ruby-identifier">dir</span>)
88:     <span class="ruby-identifier">dc</span>.<span class="ruby-identifier">end</span>
89:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>